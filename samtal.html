<!DOCTYPE html>
<html>
<head>
	<!-- Colors
	Teals: Teal, DarkSlateGreen, Aquamarine
	SeaGreens: LightSeaGreen, SeaGreen, DarkSeaGreen
	Whites: AntiqueWhite, CornSilk, WhiteSmoke, Linen
	Browns: SaddleBrown
	
	Deep colors: #1f471f
	-->
	<title>Samtal Interactive Database</title>
	<link rel="stylesheet" href="w3.css">
	<link rel="stylesheet" href="samtal.css">
	
	<script>
		// Validate forms: https://www.w3schools.com/js/js_validation.asp
		// innerHTML: https://www.w3schools.com/js/js_htmldom_document.asp
	</script>
</head>
<body>
	<h1>Samtal Interactive Database</h1>
	<div id="actionsSidebar" class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none; margin-top: 0px;">
		<button class="w3-bar-item w3-button w3-large" onclick="w3_close();">Close &times;</button>
		<div id="actionsDiv">

			<!-- ADD OPTIONS -->
			<div id="addStuff">
				<h3>Add something!</h3>
				<ul>
					<li>Add a <button type="button">word</button></li>
					<li>Add a <button type="button">part of speech or other category</button></li>
				</ul>
			</div>

			<!-- CATEGORIZATION OPTIONS -->
			<div id="categorizeStuff">
				<h3>Categorize something!</h3>
				<ul>
					<li>
						<label for="wordToOrder">Word: </label>
						<input type="text" id="wordToOrder" name="wordToOrder"><br>
						<label for="catToOrderInto">Category: </label>
						<input type="text" id="catToOrderInto" name="catToOrderInto">
						<button type="button" id="orderWordBtn" class="w3-bar-item w3-button">Search!</button>
					</li>
				</ul>
			</div>

			<!-- LIST OPTIONS -->
			<!-- <div class="dropdown">
				<button class="dropbtn">Dropdown</button>
				<div class="dropdown-content">
				  <a href="#"><button type="button" id="listWordsBtn" class="w3-bar-item w3-button">words</button></a>
				  <a href="#"><button type="button" id="listCatsBtn" class="w3-bar-item w3-button">categories</button></a>
				  <a href="#"><button type="button" id="listAllWordsByCatBtn" class="w3-bar-item w3-button">words sorted by category</button></a>
				</div>
			</div> -->
			<div id="listStuff">
				<h3>List all...</h3>
				<ul>
					<li><button type="button" id="listWordsBtn" class="w3-bar-item w3-button">words</button></li>	
					<li><button type="button" id="listCatsBtn" class="w3-bar-item w3-button">categories</button></li>
					<li><button type="button" id="listAllWordsByCatBtn" class="w3-bar-item w3-button">words sorted by category</button></li>
					<li>
						<label for="wordsByCat">words in category: </label>
						<input type="text" id="wordsByCat" name="wordsByCat">
						<button type="button" id="listWordsInCatBtn" class="w3-bar-item w3-button">Go!</button>
					</li>
				</ul>
			</div>
			
			<!-- TRANSLATE OPTIONS -->
			<div id="translateStuff">
				<h3>Translate...</h3> <!-- text box for word to translate -->
				<ul>
					<li>
						<label for="translateFromSamtal">from Samtal: </label>
						<input type="text" id="translateFromSamtal" name="translateFromSamtal">
						<button type="button" id="translateWordFromSamtalBtn">Go!</button>
					</li>
					<li>
						<label for="translateFromEnglish">from English: </label>
						<input type="text" id="translateFromEnglish" name="translateFromEnglish">
						<button type="button" id="translateWordFromEnglishBtn" class="w3-bar-item w3-button">Go!</button>
					</li>
				</ul>
			</div>
			
			<!-- DELETE OPTIONS -->
			<div id="deleteStuff">
				<h3>Oops! Delete this...</h3> <!-- text box for word/category to delete -->
				<ul>
					<li>
						<label for="wordToDelete">word: </label>
						<input type="text" id="wordToDelete" name="wordToDelete">
						<button type="button" id="deleteWordBtn" class="w3-bar-item w3-button">Begone, vile typo!</button>
					</li>
					<li>
						<label for="catToDelete">category: </label>
						<input type="text" id="catToDelete" name="catToDelete">
						<button type="button" id="deleteCategoryBtn" class="w3-bar-item w3-button">Begone, vile typo!</button>
					</li>
					<li>
						<label for="deleteOrdering">ordering: </label>
						<input type="text" id="deleteOrdering" name="deleteOrdering">
						<button type="button" id="deleteOrderingBtn" class="w3-bar-item w3-button">Begone, vile typo!</button>
					</li>
				</ul>
			</div>
			
			<!-- EXPORT OPTIONS -->
			<div id="exportOptions">
				<h3>Export dictionary:</h3>
				<ul>
					<li>Export as <button type="button">.csv</button></li>
					<li>Export as <button type="button">.txt</button></li>
					<li>Who says I have to pick one? <button type="button">Export both!</button></li>
				</ul>
			</div>
		</div>
		<!--<h3>List stuff!</h3>
			<button type="button" id="sidebarListWordsBtn" class="w3-bar-item w3-button">all words</button>
			<button type="button" id="sidebarListAllWordsByCatBtn" class="w3-bar-item w3-button">all words by category</button>
			<button type="button" id="sidebarListCatsBtn" class="w3-bar-item w3-button">all categories</button>
		-->

	</div>
	<div id="resultsDiv" style="margin-left: 8px;"></div>
	<div id="main">
		<div class="w3-teal">
			<button id="openNav" class="w3-button w3-teal w3-xlarge" onclick="w3_open();">&#9776;</button>
		</div>
		<p>SIDb is a PHP webserver with an SQLite database. Samtal is a fantasy conlang created by the author of the Shadow's Flame flashfiction series and this website.</p>
	</div>
	<script>
		/***** SIDEBAR *****/
		function w3_open() {
			document.getElementById("main").style.marginLeft = "25%";
			document.getElementById("main").style.paddingLeft = "16px";
			document.getElementById("actionsSidebar").style.width = "25%";
			document.getElementById("actionsSidebar").style.display = "block";
			document.getElementById("openNav").style.display = 'none';
		  }
		
		function w3_close() {
			document.getElementById("main").style.marginLeft = "0%";
			document.getElementById("main").style.paddingLeft = "0px";
			document.getElementById("actionsSidebar").style.display = "none";
			document.getElementById("openNav").style.display = "inline-block";
		}
		/*var input = document.querySelector('input'); // get the input element
		input.addEventListener('input', resizeInput); // bind the "resizeInput" callback on "input" event
		resizeInput.call(input); // immediately call the function
		
		function resizeInput() {
			this.style.width = this.value.length + "ch";
		}*/
		
		/***** LIST STUFF *****/
		// list words
		listWordsBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=listAllWords");
			ajax.send();
		});
		
		// list all words by category
		listAllWordsByCatBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=listAllWordsByCat");
			ajax.send();
		});
		
		// list categories
		listCatsBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=listAllCats");
			ajax.send();
		});
		
		// list words in category
		listWordsInCatBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=listWordsInCat&cat="+wordsByCat.value);
			ajax.send();
		});
		
		/***** TRANSLATE STUFF *****/
		// translate word from samtal to english
		translateWordFromSamtalBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=translateWordFromSamtal&samtal="+translateFromSamtal.value);
			ajax.send();
		});
		
		// translate word from english to samtal
		translateWordFromEnglishBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=translateWordFromEnglish&english="+translateFromEnglish.value);
			ajax.send();
		});
		
		/***** CATEGORIZE STUFF *****/
		// add word to category
		orderWordBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=orderWord&samtal="+wordToOrder.value+"&cat="+catToOrderInto.value);
			ajax.send();
		});

		/***** DELETE STUFF *****/
		// delete word
		deleteWordBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=deleteWord&word="+wordToDelete.value);
			ajax.send();
		});

		// delete category
		deleteCategoryBtn.addEventListener("click", function() {
			let ajax = new XMLHttpRequest();
			ajax.responseType = "text";
			ajax.addEventListener("load", function() {
				resultsDiv.innerHTML=this.response;
			});
			ajax.open("GET","samtal.php?op=deleteCategory&cat="+catToDelete.value);
			ajax.send();
		});
		
	</script>
</body>
</html>